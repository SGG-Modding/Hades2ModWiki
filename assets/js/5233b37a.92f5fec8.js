"use strict";(self.webpackChunkhades_2_mod_wiki=self.webpackChunkhades_2_mod_wiki||[]).push([[47285],{7197:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"creating-mods/development-environment","title":"Development Environment","description":"Tools and resources to help you get started with modding Hades II.","source":"@site/docs/creating-mods/development-environment.md","sourceDirName":"creating-mods","slug":"/creating-mods/development-environment","permalink":"/Hades2ModWiki/docs/creating-mods/development-environment","draft":false,"unlisted":false,"editUrl":"https://github.com/sgg-modding/hades2modwiki/tree/main/docs/creating-mods/development-environment.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Creating Mods","permalink":"/Hades2ModWiki/docs/category/creating-mods"},"next":{"title":"Creating your first Mod","permalink":"/Hades2ModWiki/docs/category/creating-your-first-mod"}}');var t=o(74848),s=o(28453);const r={sidebar_position:1},d="Development Environment",a={},l=[{value:"Absolute Minimum Requirements",id:"absolute-minimum-requirements",level:2},{value:"Situational tools",id:"situational-tools",level:2},{value:"Visual Studio Code Extensions",id:"visual-studio-code-extensions",level:2},{value:"Local Testing",id:"local-testing",level:2},{value:"Creating a aymbolic link from your development directory to r2modman",id:"creating-a-aymbolic-link-from-your-development-directory-to-r2modman",level:3},{value:"Manually building and importing new package versions",id:"manually-building-and-importing-new-package-versions",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"development-environment",children:"Development Environment"})}),"\n",(0,t.jsx)(n.p,{children:"Tools and resources to help you get started with modding Hades II."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["Also join the ",(0,t.jsx)(n.a,{href:"https://discord.gg/fewDSuPj",children:"Hades II Modding Discord"})," if you haven't already, as it is a great resource for getting help and sharing your ideas."]}),"\n",(0,t.jsxs)(n.p,{children:["For an easy and quick start to developing your first mod, use the ",(0,t.jsx)(n.a,{href:"https://github.com/SGG-Modding/Hades2ModTemplate",children:"Hades2ModTemplate"})," created by the community.\r\nThis template contains a basic mod structure to work with Hell2Modding, our mod loader, as well as a GitHub Actions workflow to create a release on GitHub and push the updated package to Thunderstore."]}),"\n",(0,t.jsx)(n.h2,{id:"absolute-minimum-requirements",children:"Absolute Minimum Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Code editor - ",(0,t.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"Visual Studio Code"})," is recommended."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://thunderstore.io/c/hades-ii/",children:"Thunderstore"})," account - if you intend to share your mods with the community.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Note that the wider modding community for Hades II has moved away from Nexus and is now using Thunderstore. Any mods created for Nexus are ",(0,t.jsx)(n.em,{children:"not"})," compatible with Thunderstore mods, and all of the guides in this wiki are based on development for Thunderstore."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/",children:"GitHub"})," account - primarily for code source control, but also for automated publishing of new mod package versions to Thunderstore through GitHub Actions."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://thunderstore.io/c/hades-ii/p/ebkr/r2modman/",children:"r2modman"})," to install dependencies and locally test your mods. The ",(0,t.jsx)(n.a,{href:"https://github.com/SGG-Modding/Hades2ModTemplate",children:"Hades2ModTemplate"})," already contains dependencies that most mods will require. Note that locally installing a mod will not automatically install its dependencies. Either manually install them, or install another mod that requires these base dependencies, such as ",(0,t.jsx)(n.a,{href:"https://thunderstore.io/c/hades-ii/p/PonyWarrior/PonyMenu/",children:"PonyMenu"}),". If you have already downloaded any mods, you will have these dependencies installed."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"situational-tools",children:"Situational tools"}),"\n",(0,t.jsxs)(n.p,{children:["This section is very likely incomplete depending on your specific needs and how the modding landscape has evolved since this was written.\r\nMore niche and up-to-date tools may have be shared on the ",(0,t.jsx)(n.a,{href:"https://discord.gg/fewDSuPj",children:"Hades II Modding Discord"})," since."]}),"\n",(0,t.jsxs)(n.p,{children:["If you think a tool is missing from this list, please open a PR on the wiki's ",(0,t.jsx)(n.a,{href:"https://github.com/sgg-modding/hades2modwiki",children:"GitHub repository"})," to add it."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/SGG-Modding/deppth",children:"deppth2"})," - Allows unpacking and repacking of ",(0,t.jsx)(n.code,{children:".pkg"})," files, which contain all the game's textures."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You need this tool if you want to extract or add any kind of texture to the game, such as custom character portraits, objects, or any UI elements."}),"\n",(0,t.jsxs)(n.li,{children:["deppth2 supports packing custom assets into new ",(0,t.jsx)(n.code,{children:".pkg"})," files that can be distributed with your mod. Refer to ",(0,t.jsx)(n.a,{href:"https://github.com/SGG-Modding/deppth#hades-2-packing-cli-quick-start",children:"this section in the README"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Character models are ",(0,t.jsx)(n.em,{children:"not"})," stored in ",(0,t.jsx)(n.code,{children:".pkg"})," files, but their textures are."]}),"\n",(0,t.jsxs)(n.li,{children:["Please note that for Hades II, all mods should create and load their own custom ",(0,t.jsx)(n.code,{children:".pkg"})," files, and ",(0,t.jsx)(n.em,{children:"not"})," replace any of the game's original ",(0,t.jsx)(n.code,{children:".pkg"})," files. Custom package discovery is supported through Hell2Modding."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:o(22198).A+"",children:"Fmod Bank Tools (direct download hosted on this wiki)"})," - A utility that allows the extraction and repacking of FMOD ",(0,t.jsx)(n.code,{children:".bank"})," and ",(0,t.jsx)(n.code,{children:".fsb"})," soundbank files."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".bank"})," files are used for any music, ambient sounds and sound effects in the game. If you want to reference, replace or add onto these sounds, you will need this tool."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".fsb"})," files contain all voice lines in the game. If you want to change or add voice lines, you will need this tool. Use Python-fsb5 below to further extract separate voice lines from the ",(0,t.jsx)(n.code,{children:".fsb"})," files."]}),"\n",(0,t.jsxs)(n.li,{children:["Refer to the ",(0,t.jsx)(n.a,{href:"../category/audio",children:"Audio Modding"})," guides for more information on adding or modifying audio in Hades II."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/HearthSim/python-fsb5",children:"Python-fsb5"}),", directly related to the above - A python tool to convert ",(0,t.jsx)(n.code,{children:".fsb"})," voice line banks into separate ",(0,t.jsx)(n.code,{children:".ogg"})," files that can be played by most audio players."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You will need this if you need to extract any existing voice lines from Hades II. For adding new voice lines, only the above Fmod Bank Tools are required."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/TheNormalnij/Hades-SavesExtractor",children:"Hades-SaveExtractor"})," - To extract Hades and Hades II save game files into a human-readable lua format."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only required if you want to inspect what actually gets saved into a save file using an example, as the white- and blacklists for what is saved is also available in the game code."}),"\n",(0,t.jsx)(n.li,{children:"Useful to un-corrupt broken save files."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/SGG-Modding/HadesMapper",children:"HadesMapper"})," - To decode and encode the game's map (level) files."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You will need this tool in certain cases where you want to modify existing rooms."}),"\n",(0,t.jsxs)(n.li,{children:["It can in theory also be used to create entirely new rooms, but this has not been done before and is heavily discouraged due to the sheer complexity of the task.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Some community members are working on a level editor tool, so check the Discord for updates."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.radgametools.com/bnkdown.htm",children:"Bink2ForUnreal"})," - To view and convert ",(0,t.jsx)(n.code,{children:".bik"})," video files."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Most full-screen videos in Hades II are stored as ",(0,t.jsx)(n.code,{children:".bik"})," files, such as the main menu video, location and event banners and many in-game menu backgrounds."]}),"\n",(0,t.jsxs)(n.li,{children:["This tool allows you both to view these videos, as well as convert them to many file formats (such as a ",(0,t.jsx)(n.code,{children:".png"})," sequence), as well as encode those sequences into ",(0,t.jsx)(n.code,{children:".bik"})," files."]}),"\n",(0,t.jsx)(n.li,{children:"In Hades, character animations were also stored in this format, but this is no longer the case in Hades II."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/LuneMods/io_Hades2blender",children:"Hades2blender"})," - A Blender plugin to export Hades II 3D models into Blender."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"IMPORTANT"}),' - the current version of this tool does not work with models from the 1.0 release of Hades II, but only with models from the "The Unseen" update or earlier. Use Steam Depot downloader to download an earlier version of the game if you want to extract models from there.']}),"\n",(0,t.jsx)(n.li,{children:"Some community members are working on a version that allows extracting the current models, so check the Discord for updates."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"visual-studio-code-extensions",children:"Visual Studio Code Extensions"}),"\n",(0,t.jsx)(n.p,{children:"The following extensions are recommended to install in Visual Studio Code to improve your modding experience:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=sumneko.lua",children:"Lua"})," - A lua language server","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You can optionally also refer to ",(0,t.jsx)(n.a,{href:"https://luals.github.io/wiki/annotations/",children:"luaCATS"})," to learn how to document your mod with annotations."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=jschmidt42.stingray-debug",children:"Autodesk Interactive Debugger"})," - Works as a very basic language server for ",(0,t.jsx)(n.code,{children:".sjson"})," files, allowing you to e.g. collapse objects in the editor. Don't expect any advanced features though."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"local-testing",children:"Local Testing"}),"\n",(0,t.jsxs)(n.p,{children:["Before you publish your mod, you need to test it locally to ensure that it works as intended.\r\nYou should ",(0,t.jsx)(n.em,{children:"never"})," publish mods without first testing them locally."]}),"\n",(0,t.jsx)(n.p,{children:"There are multiple ways to approach local testing, and the below examples are just some possible ways to do it.\r\nIf something else works better for your workflow, use that instead."}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-aymbolic-link-from-your-development-directory-to-r2modman",children:"Creating a aymbolic link from your development directory to r2modman"}),"\n",(0,t.jsx)(n.admonition,{title:"Before you can do this",type:"info",children:(0,t.jsxs)(n.p,{children:["Before setting up a symlink, it is strongly recommended to use the manual build method below once to set up the correct folder structure for your mod in the ",(0,t.jsx)(n.code,{children:"ReturnOfModding"})," folder used by r2modman."]})}),"\n",(0,t.jsxs)(n.p,{children:["You can avoid the hassle of having to regularly build and import your mod package after every code change by creating a ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Symbolic_link",children:"symbolic link (symlink)"})," to your mod's ",(0,t.jsx)(n.code,{children:"src"})," folder in the ",(0,t.jsx)(n.code,{children:"plugins"})," folder used by r2modman.\r\nHaving a symlink means that when loading your mod, the files will be read directly from your development directory, and any changes will be reflected immediately."]}),"\n",(0,t.jsx)(n.p,{children:"Follow these steps to create a symlink:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["You need to have a dummy ",(0,t.jsx)(n.code,{children:"manifest.json"})," file in your mod's ",(0,t.jsx)(n.code,{children:"src"})," directory, which is used by r2modman. The easiest way to get this is to run the ",(0,t.jsx)(n.code,{children:"tcli build"})," command as described in the ",(0,t.jsx)(n.a,{href:"#manually-building-and-importing-new-package-versions",children:"next section for the alternative approach"}),", which will create this file for you in the ",(0,t.jsx)(n.code,{children:".zip"})," package. Copy the manifest file into your ",(0,t.jsx)(n.code,{children:"src"})," directory."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Additionally, copy the ",(0,t.jsx)(n.code,{children:"icon.png"})," and ",(0,t.jsx)(n.code,{children:"LICENSE"})," files from your repository root into your ",(0,t.jsx)(n.code,{children:"src"})," directory, as these are also used by r2modman."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a new entry in your ",(0,t.jsx)(n.code,{children:".gitignore"})," file to ignore these three files when committing changes to your repository."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open a PowerShell terminal with administrator privileges, and run the following command, replacing ",(0,t.jsx)(n.code,{children:"<sourcePath>"})," with the path to your mod's ",(0,t.jsx)(n.code,{children:"src"})," directory, and ",(0,t.jsx)(n.code,{children:"<target>"})," with the path to the ",(0,t.jsx)(n.code,{children:"plugins"})," directory used by r2modman (likely ",(0,t.jsx)(n.code,{children:"C:\\Users\\USERNAME\\AppData\\Roaming\\r2modmanPlus-local\\HadesII\\profiles\\Default\\ReturnOfModding\\plugins"}),"), and ",(0,t.jsx)(n.code,{children:"AuthorName-ModName"})," with the name of your mod in the format used by Thunderstore (e.g. ",(0,t.jsx)(n.code,{children:"PonyWarrior-PonyMenu"}),").\r\nNote that the ",(0,t.jsx)(n.code,{children:"-Path"})," and ",(0,t.jsx)(n.code,{children:"-Target"})," parameters might seem swapped compared to what you would expect, as ",(0,t.jsx)(n.code,{children:"-Path"})," is the location of the new symlink, and ",(0,t.jsx)(n.code,{children:"-Target"})," is the location that this link points to."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'New-Item -ItemType SymbolicLink -Path "<target>\\AuthorName-ModName" -Target "<sourcePath>"\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Dependencies",type:"warning",children:(0,t.jsx)(n.p,{children:"If you have not done so yet, you will need to install your mod's dependencies before your mod will work."})}),"\n",(0,t.jsx)(n.admonition,{title:"plugins_data folder",type:"warning",children:(0,t.jsxs)(n.p,{children:["If your mod contains any assets that need to be placed in the ",(0,t.jsx)(n.code,{children:"plugins_data"})," folder, such as new ",(0,t.jsx)(n.code,{children:".pkg"})," texture packages, you will need to repeat the above steps to link from your ",(0,t.jsx)(n.code,{children:"data"})," (or equivalent) source folder to the ",(0,t.jsx)(n.code,{children:"plugins_data"})," folder in r2modman.\r\nIf you write to files in the ",(0,t.jsx)(n.code,{children:"plugins_data"})," folder through your mod (such as cached files), you may instead opt to manually copy changed ",(0,t.jsx)(n.code,{children:"data"})," files to the ",(0,t.jsx)(n.code,{children:"plugins_data"})," folder when needed, as otherwise the file edits will be reflected in your source folder."]})}),"\n",(0,t.jsx)(n.h3,{id:"manually-building-and-importing-new-package-versions",children:"Manually building and importing new package versions"}),"\n",(0,t.jsxs)(n.p,{children:["You can use the ",(0,t.jsx)(n.a,{href:"https://github.com/thunderstore-io/thunderstore-cli",children:"Thunderstore CLI"})," (",(0,t.jsx)(n.code,{children:"dotnet tool install -g tcli"}),") to manually build your local package, and then import this package as a local mod in r2modman."]}),"\n",(0,t.jsxs)(n.p,{children:["In the root directory of your mod (the directory containing the ",(0,t.jsx)(n.code,{children:"thunderstore.toml"})," file), run the following command to build your mod package:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"tcli build\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will create a ",(0,t.jsx)(n.code,{children:".zip"})," file in the format ",(0,t.jsx)(n.code,{children:"AuthorName-ModName-Version.zip"})," in the ",(0,t.jsx)(n.code,{children:"build"})," directory."]}),"\n",(0,t.jsxs)(n.p,{children:['In r2modman, go to the Settings tab, and locate the "Import local mod" option.\r\nIn the file explorer that opens, choose your newly created ',(0,t.jsx)(n.code,{children:".zip"})," file and submit.\r\nThis will open an install dialog in r2modman where you can confirm the mod name and version that will be installed.\r\nAfter confirming, your mod will be installed and ready to use."]}),"\n",(0,t.jsxs)(n.p,{children:["Sharing this ",(0,t.jsx)(n.code,{children:".zip"})," file is also the recommended approach for when you might want to share versions of your mod with community members on the Discord before publishing it to Thunderstore."]}),"\n",(0,t.jsx)(n.p,{children:"When you update any code or assets in your mod, you will need to repeat the above steps to create a new package and import it again in r2modman."}),"\n",(0,t.jsx)(n.admonition,{title:"Dependencies",type:"warning",children:(0,t.jsxs)(n.p,{children:["Installing a mod locally through r2modman will ",(0,t.jsx)(n.em,{children:"not"})," automatically install any dependencies that your mod requires, if you have not had them installed before."]})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},22198:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/files/Fmod Bank Tools-ec6b29296b4c45cf42cbbd541f97913b.zip"},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>d});var i=o(96540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);